const translations = {
  "zh-CN": {
    "app_name": "代理助手",
    "settings_title": "代理助手设置",
    "manage_proxies": "管理代理",
    "manage_proxies_desc": "新增、编辑或删除您的代理配置",
    "expand_all": "展开全部",
    "collapse_all": "折叠全部",
    "add_new": "新增",
    "save": "保存",
    "system_config": "系统配置",
    "language_settings": "语言设置",
    "select_language": "选择语言",
    "theme_settings": "主题模式",
    "theme_settings_desc": "选择白天模式、夜间模式或自动切换",
    "theme_light": "白天",
    "theme_dark": "夜间",
    "theme_auto": "自动",
    "auto_mode_time": "夜间模式切换起始时间",
    "auto_mode_time_desc": "设置夜间模式的开始和结束时间",
    "start_time": "开始时间",
    "end_time": "结束时间",
    "sync_settings": "同步设置",
    "auto_sync_desc": "在相同账户 (Google/FireFox) 的浏览器间同步代理数据 (默认开启)",
    "config_management": "配置管理",
    "config_desc": "管理系统配置",
    "export_config": "导出配置",
    "import_config": "导入配置",
    "delete_proxy_title": "删除代理",
    "delete_proxy_confirm": "确定要删除这个代理吗？",
    "cancel": "取消",
    "delete": "删除",
    "save_success": "保存成功",
    "save_failed": "保存失败：",
    "status_label": "状态:",
    "status_disconnected": "未连接",
    "status_disabled": "已禁用",
    "status_enabled": "已启用",
    "mode_disabled": "禁用",
    "mode_manual": "手动",
    "mode_auto": "自动",
    "mode_auto_text": "自动模式",
    "no_proxy_added": "您还没有添加代理",
    "add_proxy_btn": "添加新代理",
    "unnamed_proxy": "未命名代理",
    "drag_sort": "拖动排序",
    "proxy_name": "代理名称",
    "protocol": "协议",
    "fallback_policy": "失败策略 (自动模式)",
    "fallback_reject": "报错",
    "fallback_direct": "直接连接",
    "ip_address": "代理地址",
    "port": "端口",
    "username_optional": "用户名 (可选)",
    "password_optional": "密码 (可选)",
    "proxy_urls_auto": "使用代理的地址 (自动模式)",
    "proxy_urls_placeholder": "每行一个地址，例如：\ngoogle.com\n*.twitter.com",
    "bypass_urls": "不使用代理的地址 (手动模式)",
    "bypass_urls_placeholder": "每行一个地址，例如：\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "请为代理设置一个名称。",
    "alert_name_duplicate": "代理名称已存在，请使用不同的名称。",
    "alert_ip_invalid": "请输入有效的代理地址 (IP 或域名)。",
    "alert_port_invalid": "请输入有效的端口号 (1-65535)。",
    "alert_ip_required": "代理地址不能为空。",
    "alert_ip_format": "IP地址必须包含四个以点(. )分隔的数字块。",
    "alert_ip_part_empty": "IP地址的部分数字块不能为空。",
    "alert_ip_part_nan": "IP地址的数字块必须为数字。",
    "alert_ip_leading_zero": "IP地址的数字块不能有前导零。",
    "alert_ip_part_range": "IP地址的数字块必须在0-255范围内。",
    "alert_import_success": "导入成功！已更新系统设置与代理列表。请点击\"保存\"以应用更改。",
    "alert_import_legacy": "导入成功！检测到旧版配置格式，已恢复代理列表。请点击\"保存\"以应用更改。",
    "alert_invalid_format": "无效的配置文件格式。",
    "alert_parse_error": "解析文件失败：",
    "alert_sync_enabled": "已开启自动同步。点击\"保存\"按钮可将当前配置同步至您的 Google 账户。",
    "settings_tooltip": "设置",
    "authentication": "认证",
    "link_test": "测试",
    "testing": "测试中...",
    "test_success": "连接正常",
    "test_failed": "连接失败",
    "test_all": "测试",
    "proxy_name_placeholder": "例如：办公室代理",
    "username_placeholder": "用户名",
    "password_placeholder": "密码"
  },
  "zh-TW": {
    "app_name": "代理助手",
    "settings_title": "代理助手設定",
    "manage_proxies": "管理代理",
    "manage_proxies_desc": "新增、編輯或刪除您的代理設定",
    "expand_all": "展開全部",
    "collapse_all": "折疊全部",
    "add_new": "新增",
    "save": "儲存",
    "system_config": "系統配置",
    "language_settings": "語言設定",
    "select_language": "選擇語言",
    "theme_settings": "主題模式",
    "theme_settings_desc": "選擇白天模式、夜間模式或自動切換",
    "theme_light": "白天",
    "theme_dark": "夜間",
    "theme_auto": "自動",
    "auto_mode_time": "夜間模式切換起始時間",
    "auto_mode_time_desc": "設定夜間模式的開始和結束時間",
    "start_time": "開始時間",
    "end_time": "結束時間",
    "sync_settings": "同步設定",
    "auto_sync_desc": "在相同帳戶 (Google/FireFox) 的瀏覽器間同步代理數據 (預設開啟)",
    "config_management": "配置管理",
    "config_desc": "管理系統配置",
    "export_config": "匯出配置",
    "import_config": "匯入配置",
    "delete_proxy_title": "刪除代理",
    "delete_proxy_confirm": "確定要刪除這個代理嗎？",
    "cancel": "取消",
    "delete": "刪除",
    "save_success": "儲存成功",
    "save_failed": "儲存失敗：",
    "status_label": "狀態:",
    "status_disconnected": "未連結",
    "status_disabled": "已停用",
    "status_enabled": "已啟用",
    "mode_disabled": "停用",
    "mode_manual": "手動",
    "mode_auto": "自動",
    "mode_auto_text": "自動模式",
    "no_proxy_added": "您還沒有新增代理",
    "add_proxy_btn": "新增代理",
    "unnamed_proxy": "未命名代理",
    "drag_sort": "拖曳排序",
    "proxy_name": "代理名稱",
    "protocol": "協定",
    "fallback_policy": "失敗策略 (自動模式)",
    "fallback_reject": "報錯",
    "fallback_direct": "直接連接",
    "ip_address": "代理地址",
    "port": "連接埠",
    "username_optional": "使用者名稱 (選填)",
    "password_optional": "密碼 (選填)",
    "proxy_urls_auto": "使用代理的地址 (自動模式)",
    "proxy_urls_placeholder": "每行一個地址，例如：\ngoogle.com\n*.twitter.com",
    "bypass_urls": "不使用代理的地址 (手動模式)",
    "bypass_urls_placeholder": "每行一個地址，例如：\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "請為代理設定一個名稱。",
    "alert_name_duplicate": "代理名稱已存在，請使用不同的名稱。",
    "alert_ip_invalid": "請輸入有效的代理地址 (IP 或網域名稱)。",
    "alert_port_invalid": "請輸入有效的連接埠號碼 (1-65535)。",
    "alert_ip_required": "代理地址不能為空。",
    "alert_ip_format": "IP地址必須包含四個以點(. )分隔的數字區塊。",
    "alert_ip_part_empty": "IP地址的部分數字區塊不能為空。",
    "alert_ip_part_nan": "IP地址的數字區塊必須為數字。",
    "alert_ip_leading_zero": "IP地址的數字區塊不能有前導零。",
    "alert_ip_part_range": "IP地址的數字區塊必須在0-255範圍內。",
    "alert_import_success": "匯入成功！已更新系統設定與代理列表。請點選「儲存」以套用變更。",
    "alert_import_legacy": "匯入成功！偵測到舊版配置格式，已恢復代理列表。請點選「儲存」以套用變更。",
    "alert_invalid_format": "無效的設定檔格式。",
    "alert_parse_error": "解析檔案失敗：",
    "alert_sync_enabled": "已開啟自動同步。點選「儲存」按鈕可將目前配置同步至您的 Google 帳戶。",
    "settings_tooltip": "設定",
    "authentication": "認證",
    "link_test": "測試",
    "testing": "測試中...",
    "test_success": "連線正常",
    "test_failed": "連線失敗",
    "test_all": "測試",
    "proxy_name_placeholder": "例如：辦公室代理",
    "username_placeholder": "用戶名",
    "password_placeholder": "密碼"
  },
  "en": {
    "app_name": "Proxy Assistant",
    "settings_title": "Proxy Assistant Settings",
    "manage_proxies": "Manage Proxies",
    "manage_proxies_desc": "Add, edit or delete your proxy configurations",
    "expand_all": "Expand All",
    "collapse_all": "Collapse All",
    "add_new": "New",
    "save": "Save",
    "system_config": "System Configuration",
    "language_settings": "Language Settings",
    "select_language": "Select Language",
    "theme_settings": "Theme Mode",
    "theme_settings_desc": "Choose Light, Dark, or Auto mode",
    "theme_light": "Light",
    "theme_dark": "Dark",
    "theme_auto": "Auto",
    "auto_mode_time": "Dark Mode Schedule",
    "auto_mode_time_desc": "Set the start and end time for dark mode",
    "start_time": "Start Time",
    "end_time": "End Time",
    "sync_settings": "Sync Settings",
    "auto_sync_desc": "Sync proxy data across browsers with the same account (Google/FireFox) (Enabled by default)",
    "config_management": "Configuration Management",
    "config_desc": "Manage system configurations",
    "export_config": "Export Config",
    "import_config": "Import Config",
    "delete_proxy_title": "Delete Proxy",
    "delete_proxy_confirm": "Are you sure you want to delete this proxy?",
    "cancel": "Cancel",
    "delete": "Delete",
    "save_success": "Saved Successfully",
    "save_failed": "Save Failed: ",
    "status_label": "Status:",
    "status_disconnected": "Disconnected",
    "status_disabled": "Disabled",
    "status_enabled": "Enabled",
    "mode_disabled": "Disable",
    "mode_manual": "Manual",
    "mode_auto": "Auto",
    "mode_auto_text": "Auto Mode",
    "no_proxy_added": "No proxies added yet",
    "add_proxy_btn": "Add New Proxy",
    "unnamed_proxy": "Unnamed Proxy",
    "drag_sort": "Drag to sort",
    "proxy_name": "Proxy Name",
    "protocol": "Protocol",
    "fallback_policy": "Fallback Policy (Auto Mode)",
    "fallback_reject": "Reject",
    "fallback_direct": "Direct Connect",
    "ip_address": "Proxy Address",
    "port": "Port",
    "username_optional": "Username (Optional)",
    "password_optional": "Password (Optional)",
    "proxy_urls_auto": "Addresses using proxy (Auto Mode)",
    "proxy_urls_placeholder": "One address per line, e.g.:\ngoogle.com\n*.twitter.com",
    "bypass_urls": "Addresses bypassing proxy (Manual Mode)",
    "bypass_urls_placeholder": "One address per line, e.g.:\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "Please set a name for the proxy.",
    "alert_name_duplicate": "Proxy name already exists, please use a different name.",
    "alert_ip_invalid": "Please enter a valid proxy address (IP or domain).",
    "alert_port_invalid": "Please enter a valid port number (1-65535).",
    "alert_ip_required": "Proxy address cannot be empty.",
    "alert_ip_format": "IP address must contain four dot-separated blocks.",
    "alert_ip_part_empty": "IP address parts cannot be empty.",
    "alert_ip_part_nan": "IP address parts must be numbers.",
    "alert_ip_leading_zero": "IP address parts cannot have leading zeros.",
    "alert_ip_part_range": "IP address parts must be between 0 and 255.",
    "alert_import_success": "Import successful! System settings and proxy list updated. Please click 'Save' to apply changes.",
    "alert_import_legacy": "Import successful! Legacy format detected, proxy list restored. Please click 'Save' to apply changes.",
    "alert_invalid_format": "Invalid configuration file format.",
    "alert_parse_error": "Failed to parse file: ",
    "alert_sync_enabled": "Auto sync enabled. Click 'Save' to sync current configuration to your Google account.",
    "settings_tooltip": "Settings",
    "authentication": "Auth",
    "link_test": "Test",
    "testing": "Testing...",
    "test_success": "Connected",
    "test_failed": "Failed",
    "test_all": "Test",
    "proxy_name_placeholder": "e.g., Office Proxy",
    "username_placeholder": "Username",
    "password_placeholder": "Password"
  },
  "ja": {
    "app_name": "プロキシアシスタント",
    "settings_title": "プロキシアシスタント設定",
    "manage_proxies": "プロキシ管理",
    "manage_proxies_desc": "プロキシ設定の追加、編集、削除",
    "expand_all": "展開",
    "collapse_all": "折り畳み",
    "add_new": "新規",
    "save": "保存",
    "system_config": "システム設定",
    "language_settings": "言語設定",
    "select_language": "言語を選択",
    "theme_settings": "テーマモード",
    "theme_settings_desc": "ライト、ダーク、または自動モードを選択",
    "theme_light": "ライト",
    "theme_dark": "ダーク",
    "theme_auto": "自動",
    "auto_mode_time": "ダークモード切替時刻",
    "auto_mode_time_desc": "ダークモードの開始時刻と終了時刻を設定",
    "start_time": "開始時間",
    "end_time": "終了時間",
    "sync_settings": "同期設定",
    "auto_sync_desc": "同じアカウント (Google/FireFox) のブラウザ間でプロキシデータを同期します（デフォルトで有効）",
    "config_management": "設定管理",
    "config_desc": "システム設定を管理する",
    "export_config": "設定をエクスポート",
    "import_config": "設定をインポート",
    "delete_proxy_title": "プロキシを削除",
    "delete_proxy_confirm": "このプロキシを削除してもよろしいですか？",
    "cancel": "キャンセル",
    "delete": "削除",
    "save_success": "保存しました",
    "save_failed": "保存に失敗しました：",
    "status_label": "ステータス:",
    "status_disconnected": "未接続",
    "status_disabled": "無効",
    "status_enabled": "有効",
    "mode_disabled": "無効",
    "mode_manual": "手動",
    "mode_auto": "自動",
    "mode_auto_text": "自動モード",
    "no_proxy_added": "プロキシが追加されていません",
    "add_proxy_btn": "新しいプロキシを追加",
    "unnamed_proxy": "名称未設定プロキシ",
    "drag_sort": "ドラッグして並べ替え",
    "proxy_name": "プロキシ名",
    "protocol": "プロトコル",
    "fallback_policy": "フォールバックポリシー（自動モード）",
    "fallback_reject": "エラー",
    "fallback_direct": "直接接続",
    "ip_address": "プロキシアドレス",
    "port": "ポート",
    "username_optional": "ユーザー名 (任意)",
    "password_optional": "パスワード (任意)",
    "proxy_urls_auto": "プロキシを使用するアドレス（自動モード）",
    "proxy_urls_placeholder": "1行に1つのアドレス、例: \ngoogle.com\n*.twitter.com",
    "bypass_urls": "プロキシを使用しないアドレス（手動モード）",
    "bypass_urls_placeholder": "1行に1つのアドレス、例: \nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "プロキシの名前を設定してください。",
    "alert_name_duplicate": "プロキシ名が既に存在します。別の名前を使用してください。",
    "alert_ip_invalid": "有効なプロキシアドレス (IP またはドメイン) を入力してください。",
    "alert_port_invalid": "有効なポート番号 (1-65535) を入力してください。",
    "alert_ip_required": "プロキシアドレスを入力してください。",
    "alert_ip_format": "IPアドレスはドット(.)で区切られた4つのブロックである必要があります。",
    "alert_ip_part_empty": "IPアドレスの一部が空です。",
    "alert_ip_part_nan": "IPアドレスの各部分は数字である必要があります。",
    "alert_ip_leading_zero": "IPアドレスの各部分に先行ゼロを含めることはできません。",
    "alert_ip_part_range": "IPアドレスの各部分は0〜255の範囲内である必要があります。",
    "alert_import_success": "インポート成功！システム設定とプロキシリストを更新しました。変更を適用するには「保存」をクリックしてください。",
    "alert_import_legacy": "インポート成功！旧形式を検出しました。プロキシリストを復元しました。変更を適用するには「保存」をクリックしてください。",
    "alert_invalid_format": "無効な設定ファイル形式です。",
    "alert_parse_error": "ファイルの解析に失敗しました：",
    "alert_sync_enabled": "自動同期が有効になりました。「保存」ボタンをクリックして、現在の設定をGoogleアカウントに同期してください。",
    "settings_tooltip": "設定",
    "authentication": "認証",
    "link_test": "テスト",
    "testing": "テスト中...",
    "test_success": "接続成功",
    "test_failed": "接続失敗",
    "test_all": "テスト",
    "proxy_name_placeholder": "例：会社のプロキシ",
    "username_placeholder": "ユーザー名",
    "password_placeholder": "パスワード"
  },
  "fr": {
    "app_name": "Assistant Proxy",
    "settings_title": "Paramètres de l'Assistant Proxy",
    "manage_proxies": "Gérer les Proxys",
    "manage_proxies_desc": "Ajouter, modifier ou supprimer des configurations de proxy",
    "expand_all": "Développer",
    "collapse_all": "Réduire",
    "add_new": "Nouveau",
    "save": "Enregistrer",
    "system_config": "Configuration Système",
    "language_settings": "Paramètres de Langue",
    "select_language": "Choisir la Langue",
    "theme_settings": "Mode Thème",
    "theme_settings_desc": "Choisir le mode Clair, Sombre ou Auto",
    "theme_light": "Clair",
    "theme_dark": "Sombre",
    "theme_auto": "Auto",
    "auto_mode_time": "Planification Mode Sombre",
    "auto_mode_time_desc": "Définir l'heure de début et de fin du mode sombre",
    "start_time": "Heure de début",
    "end_time": "Heure de fin",
    "sync_settings": "Paramètres de Synchro",
    "auto_sync_desc": "Synchroniser les données proxy entre les navigateurs avec le même compte (Google/FireFox) (Activé par défaut)",
    "config_management": "Gestion de la Configuration",
    "config_desc": "Gérer les configurations système",
    "export_config": "Exporter Config",
    "import_config": "Importer Config",
    "delete_proxy_title": "Supprimer Proxy",
    "delete_proxy_confirm": "Êtes-vous sûr de vouloir supprimer ce proxy ?",
    "cancel": "Annuler",
    "delete": "Supprimer",
    "save_success": "Enregistré avec succès",
    "save_failed": "Échec de l'enregistrement : ",
    "status_label": "État :",
    "status_disconnected": "Déconnecté",
    "status_disabled": "Désactivé",
    "status_enabled": "Activé",
    "mode_disabled": "Désactivé",
    "mode_manual": "Manuel",
    "mode_auto": "Auto",
    "mode_auto_text": "Mode Auto",
    "no_proxy_added": "Aucun proxy ajouté",
    "add_proxy_btn": "Ajouter Nouveau Proxy",
    "unnamed_proxy": "Proxy Sans Nom",
    "drag_sort": "Glisser pour trier",
    "proxy_name": "Nom du Proxy",
    "protocol": "Protocole",
    "fallback_policy": "Stratégie de repli (Mode Auto)",
    "fallback_reject": "Rejeter",
    "fallback_direct": "Connexion directe",
    "ip_address": "Adresse du proxy",
    "port": "Port",
    "username_optional": "Nom d'utilisateur (Optionnel)",
    "password_optional": "Mot de passe (Optionnel)",
    "proxy_urls_auto": "Adresses utilisant le proxy (Mode Auto)",
    "proxy_urls_placeholder": "Une adresse par ligne, ex :\ngoogle.com\n*.twitter.com",
    "bypass_urls": "Adresses ignorant le proxy (Mode Manuel)",
    "bypass_urls_placeholder": "Une adresse par ligne, ex :\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "Veuillez définir un nom pour le proxy.",
    "alert_name_duplicate": "Le nom du proxy existe déjà, veuillez en utiliser un autre.",
    "alert_ip_invalid": "Veuillez entrer une adresse de proxy valide (IP ou domaine).",
    "alert_port_invalid": "Veuillez entrer un numéro de port valide (1-65535).",
    "alert_ip_required": "L'adresse du proxy ne peut pas être vide.",
    "alert_ip_format": "L'adresse IP doit contenir quatre blocs séparés par des points.",
    "alert_ip_part_empty": "Les parties de l'adresse IP ne peuvent pas être vides.",
    "alert_ip_part_nan": "Les parties de l'adresse IP doivent être des nombres.",
    "alert_ip_leading_zero": "Les parties de l'adresse IP ne peuvent pas avoir de zéros non significatifs.",
    "alert_ip_part_range": "Les parties de l'adresse IP doivent être comprises entre 0 et 255.",
    "alert_import_success": "Importation réussie ! Paramètres système et liste des proxys mis à jour. Veuillez cliquer sur 'Enregistrer' pour appliquer les changements.",
    "alert_import_legacy": "Importation réussie ! Format hérité détecté, liste des proxys restaurée. Veuillez cliquer sur 'Enregistrer' pour appliquer les changements.",
    "alert_invalid_format": "Format de fichier de configuration invalide.",
    "alert_parse_error": "Échec de l'analyse du fichier : ",
    "alert_sync_enabled": "Synchro auto activée. Cliquez sur 'Enregistrer' pour synchroniser la configuration actuelle avec votre compte Google.",
    "settings_tooltip": "Paramètres",
    "authentication": "Auth",
    "link_test": "Tester",
    "testing": "Test en cours...",
    "test_success": "Connecté",
    "test_failed": "Échoué",
    "test_all": "Tester",
    "proxy_name_placeholder": "Ex : Proxy de bureau",
    "username_placeholder": "Nom d'utilisateur",
    "password_placeholder": "Mot de passe"
  },
  "de": {
    "app_name": "Proxy-Assistent",
    "settings_title": "Proxy-Assistent Einstellungen",
    "manage_proxies": "Proxys verwalten",
    "manage_proxies_desc": "Hinzufügen, Bearbeiten oder Löschen Ihrer Proxy-Konfigurationen",
    "expand_all": "Alle erweitern",
    "collapse_all": "Alle einklappen",
    "add_new": "Neu",
    "save": "Speichern",
    "system_config": "Systemkonfiguration",
    "language_settings": "Spracheinstellungen",
    "select_language": "Sprache wählen",
    "theme_settings": "Themenmodus",
    "theme_settings_desc": "Wählen Sie den Hell-, Dunkel- oder Automodus",
    "theme_light": "Hell",
    "theme_dark": "Dunkel",
    "theme_auto": "Auto",
    "auto_mode_time": "Zeitplan für Dunkelmodus",
    "auto_mode_time_desc": "Start- und Endzeit für den Dunkelmodus festlegen",
    "start_time": "Startzeit",
    "end_time": "Endzeit",
    "sync_settings": "Synchronisierungseinstellungen",
    "auto_sync_desc": "Proxy-Daten zwischen Browsern mit demselben Konto synchronisieren (Google/FireFox) (Standardmäßig aktiviert)",
    "config_management": "Konfigurationsverwaltung",
    "config_desc": "Systemkonfigurationen verwalten",
    "export_config": "Konfiguration exportieren",
    "import_config": "Konfiguration importieren",
    "delete_proxy_title": "Proxy löschen",
    "delete_proxy_confirm": "Sind Sie sicher, dass Sie diesen Proxy löschen möchten?",
    "cancel": "Abbrechen",
    "delete": "Löschen",
    "save_success": "Erfolgreich gespeichert",
    "save_failed": "Speichern fehlgeschlagen: ",
    "status_label": "Status:",
    "status_disconnected": "Getrennt",
    "status_disabled": "Deaktiviert",
    "status_enabled": "Aktiviert",
    "mode_disabled": "Deaktivieren",
    "mode_manual": "Manuell",
    "mode_auto": "Auto",
    "mode_auto_text": "Auto-Modus",
    "no_proxy_added": "Noch keine Proxys hinzugefügt",
    "add_proxy_btn": "Neuen Proxy hinzufügen",
    "unnamed_proxy": "Unbenannter Proxy",
    "drag_sort": "Zum Sortieren ziehen",
    "proxy_name": "Proxy-Name",
    "protocol": "Protokoll",
    "fallback_policy": "Fallback-Richtlinie (Auto-Modus)",
    "fallback_reject": "Ablehnen",
    "fallback_direct": "Direktverbindung",
    "ip_address": "Proxy-Adresse",
    "port": "Port",
    "username_optional": "Benutzername (Optional)",
    "password_optional": "Passwort (Optional)",
    "proxy_urls_auto": "Adressen mit Proxy (Auto-Modus)",
    "proxy_urls_placeholder": "Eine Adresse pro Zeile, z.B.:\ngoogle.com\n*.twitter.com",
    "bypass_urls": "Adressen ohne Proxy (Manueller Modus)",
    "bypass_urls_placeholder": "Eine Adresse pro Zeile, z.B.:\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "Bitte geben Sie einen Namen für den Proxy an.",
    "alert_name_duplicate": "Proxy-Name existiert bereits, bitte verwenden Sie einen anderen Namen.",
    "alert_ip_invalid": "Bitte geben Sie eine gültige Proxy-Adresse ein (IP oder Domain).",
    "alert_port_invalid": "Bitte geben Sie eine gültige Portnummer ein (1-65535).",
    "alert_ip_required": "Proxy-Adresse darf nicht leer sein.",
    "alert_ip_format": "Die IP-Adresse muss vier durch Punkte getrennte Blöcke enthalten.",
    "alert_ip_part_empty": "Teile der IP-Adresse dürfen nicht leer sein.",
    "alert_ip_part_nan": "Teile der IP-Adresse müssen Zahlen sein.",
    "alert_ip_leading_zero": "Teile der IP-Adresse dürfen keine führenden Nullen haben.",
    "alert_ip_part_range": "Teile der IP-Adresse müssen zwischen 0 und 255 liegen.",
    "alert_import_success": "Import erfolgreich! Systemeinstellungen und Proxy-Liste aktualisiert. Bitte klicken Sie auf 'Speichern', um die Änderungen zu übernehmen.",
    "alert_import_legacy": "Import erfolgreich! Altes Format erkannt, Proxy-Liste wiederhergestellt. Bitte klicken Sie auf 'Speichern', um die Änderungen zu übernehmen.",
    "alert_invalid_format": "Ungültiges Konfigurationsdateiformat.",
    "alert_parse_error": "Datei konnte nicht analysiert werden: ",
    "alert_sync_enabled": "Automatische Synchronisierung aktiviert. Klicken Sie auf 'Speichern', um die aktuelle Konfiguration mit Ihrem Google-Konto zu synchronisieren.",
    "settings_tooltip": "Einstellungen",
    "authentication": "Auth",
    "link_test": "Test",
    "testing": "Testen...",
    "test_success": "Verbunden",
    "test_failed": "Fehlgeschlagen",
    "test_all": "Test",
    "proxy_name_placeholder": "z.B. Büro-Proxy",
    "username_placeholder": "Benutzername",
    "password_placeholder": "Passwort"
  },
  "es": {
    "app_name": "Asistente de Proxy",
    "settings_title": "Configuración del Asistente de Proxy",
    "manage_proxies": "Gestionar Proxies",
    "manage_proxies_desc": "Añadir, editar o eliminar sus configuraciones de proxy",
    "expand_all": "Expandir Todo",
    "collapse_all": "Contraer Todo",
    "add_new": "Nuevo",
    "save": "Guardar",
    "system_config": "Configuración del Sistema",
    "language_settings": "Configuración de Idioma",
    "select_language": "Seleccionar Idioma",
    "theme_settings": "Modo de Tema",
    "theme_settings_desc": "Elija modo Claro, Oscuro o Automático",
    "theme_light": "Claro",
    "theme_dark": "Oscuro",
    "theme_auto": "Auto",
    "auto_mode_time": "Horario del Modo Oscuro",
    "auto_mode_time_desc": "Establecer hora de inicio y fin para el modo oscuro",
    "start_time": "Hora de Inicio",
    "end_time": "Hora de Fin",
    "sync_settings": "Configuración de Sincronización",
    "auto_sync_desc": "Sincronizar datos de proxy entre navegadores con la misma cuenta (Google/FireFox) (Activado por defecto)",
    "config_management": "Gestión de Configuración",
    "config_desc": "Gestionar configuraciones del sistema",
    "export_config": "Exportar Configuración",
    "import_config": "Importar Configuración",
    "delete_proxy_title": "Eliminar Proxy",
    "delete_proxy_confirm": "¿Está seguro de que desea eliminar este proxy?",
    "cancel": "Cancelar",
    "delete": "Eliminar",
    "save_success": "Guardado Exitosamente",
    "save_failed": "Error al Guardar: ",
    "status_label": "Estado:",
    "status_disconnected": "Desconectado",
    "status_disabled": "Deshabilitado",
    "status_enabled": "Habilitado",
    "mode_disabled": "Deshabilitar",
    "mode_manual": "Manual",
    "mode_auto": "Auto",
    "mode_auto_text": "Modo Auto",
    "no_proxy_added": "No se han añadido proxies",
    "add_proxy_btn": "Añadir Nuevo Proxy",
    "unnamed_proxy": "Proxy Sin Nombre",
    "drag_sort": "Arrastrar para ordenar",
    "proxy_name": "Nombre del Proxy",
    "protocol": "Protocolo",
    "fallback_policy": "Política de Reserva (Modo Auto)",
    "fallback_reject": "Rechazar",
    "fallback_direct": "Conexión Directa",
    "ip_address": "Dirección del Proxy",
    "port": "Puerto",
    "username_optional": "Nombre de usuario (Opcional)",
    "password_optional": "Contraseña (Opcional)",
    "proxy_urls_auto": "Direcciones usando proxy (Modo Auto)",
    "proxy_urls_placeholder": "Una dirección por línea, ej:\ngoogle.com\n*.twitter.com",
    "bypass_urls": "Direcciones ignorando proxy (Modo Manual)",
    "bypass_urls_placeholder": "Una dirección por línea, ej:\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "Por favor, establezca un nombre para el proxy.",
    "alert_name_duplicate": "El nombre del proxy ya existe, por favor use un nombre diferente.",
    "alert_ip_invalid": "Por favor, introduzca una dirección de proxy válida (IP o dominio).",
    "alert_port_invalid": "Por favor, introduzca un número de puerto válido (1-65535).",
    "alert_ip_required": "La dirección del proxy no puede estar vacía.",
    "alert_ip_format": "La dirección IP debe contener cuatro bloques separados por puntos.",
    "alert_ip_part_empty": "Las partes de la dirección IP no pueden estar vacías.",
    "alert_ip_part_nan": "Las partes de la dirección IP deben ser números.",
    "alert_ip_leading_zero": "Las partes de la dirección IP no pueden tener ceros a la izquierda.",
    "alert_ip_part_range": "Las partes de la dirección IP deben estar entre 0 y 255.",
    "alert_import_success": "¡Importación exitosa! Configuración del sistema y lista de proxies actualizadas. Por favor, haga clic en 'Guardar' para aplicar los cambios.",
    "alert_import_legacy": "¡Importación exitosa! Formato antiguo detectado, lista de proxies restaurada. Por favor, haga clic en 'Guardar' para aplicar los cambios.",
    "alert_invalid_format": "Formato de archivo de configuración inválido.",
    "alert_parse_error": "Error al analizar el archivo: ",
    "alert_sync_enabled": "Sincronización automática activada. Haga clic en 'Guardar' para sincronizar la configuración actual con su cuenta de Google.",
    "settings_tooltip": "Ajustes",
    "authentication": "Auth",
    "link_test": "Probar",
    "testing": "Probando...",
    "test_success": "Conectado",
    "test_failed": "Fallido",
    "test_all": "Probar",
    "proxy_name_placeholder": "ej., Proxy de Oficina",
    "username_placeholder": "Nombre de usuario",
    "password_placeholder": "Contraseña"
  },
  "ko": {
    "app_name": "프록시 어시스턴트",
    "settings_title": "프록시 어시스턴트 설정",
    "manage_proxies": "프록시 관리",
    "manage_proxies_desc": "프록시 구성 추가, 편집 또는 삭제",
    "expand_all": "모두 펼치기",
    "collapse_all": "모두 접기",
    "add_new": "새로 만들기",
    "save": "저장",
    "system_config": "시스템 구성",
    "language_settings": "언어 설정",
    "select_language": "언어 선택",
    "theme_settings": "테마 모드",
    "theme_settings_desc": "라이트, 다크 또는 자동 모드 선택",
    "theme_light": "라이트",
    "theme_dark": "다크",
    "theme_auto": "자동",
    "auto_mode_time": "다크 모드 일정",
    "auto_mode_time_desc": "다크 모드 시작 및 종료 시간 설정",
    "start_time": "시작 시간",
    "end_time": "종료 시간",
    "sync_settings": "동기화 설정",
    "auto_sync_desc": "동일한 계정(Google/FireFox)의 브라우저 간에 프록시 데이터 동기화 (기본값 활성화)",
    "config_management": "구성 관리",
    "config_desc": "시스템 구성 관리",
    "export_config": "구성 내보내기",
    "import_config": "구성 가져오기",
    "delete_proxy_title": "프록시 삭제",
    "delete_proxy_confirm": "이 프록시를 삭제하시겠습니까?",
    "cancel": "취소",
    "delete": "삭제",
    "save_success": "저장 성공",
    "save_failed": "저장 실패: ",
    "status_label": "상태:",
    "status_disconnected": "연결 끊김",
    "status_disabled": "비활성화됨",
    "status_enabled": "활성화됨",
    "mode_disabled": "비활성화",
    "mode_manual": "수동",
    "mode_auto": "자동",
    "mode_auto_text": "자동 모드",
    "no_proxy_added": "추가된 프록시 없음",
    "add_proxy_btn": "새 프록시 추가",
    "unnamed_proxy": "이름 없는 프록시",
    "drag_sort": "드래그하여 정렬",
    "proxy_name": "프록시 이름",
    "protocol": "프로토콜",
    "fallback_policy": "폴백 정책 (자동 모드)",
    "fallback_reject": "거부",
    "fallback_direct": "직접 연결",
    "ip_address": "프록시 주소",
    "port": "포트",
    "username_optional": "사용자 이름 (선택 사항)",
    "password_optional": "비밀번호 (선택 사항)",
    "proxy_urls_auto": "프록시 사용 주소 (자동 모드)",
    "proxy_urls_placeholder": "한 줄에 주소 하나, 예:\ngoogle.com\n*.twitter.com",
    "bypass_urls": "프록시 우회 주소 (수동 모드)",
    "bypass_urls_placeholder": "한 줄에 주소 하나, 예:\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "프록시 이름을 설정해 주세요.",
    "alert_name_duplicate": "프록시 이름이 이미 존재합니다. 다른 이름을 사용해 주세요.",
    "alert_ip_invalid": "유효한 프록시 주소(IP 또는 도메인)를 입력해 주세요.",
    "alert_port_invalid": "유효한 포트 번호(1-65535)를 입력해 주세요.",
    "alert_ip_required": "프록시 주소는 비워둘 수 없습니다.",
    "alert_ip_format": "IP 주소는 점으로 구분된 4개의 블록을 포함해야 합니다.",
    "alert_ip_part_empty": "IP 주소 부분은 비워둘 수 없습니다.",
    "alert_ip_part_nan": "IP 주소 부분은 숫자여야 합니다.",
    "alert_ip_leading_zero": "IP 주소 부분은 0으로 시작할 수 없습니다.",
    "alert_ip_part_range": "IP 주소 부분은 0에서 255 사이여야 합니다.",
    "alert_import_success": "가져오기 성공! 시스템 설정 및 프록시 목록이 업데이트되었습니다. 변경 사항을 적용하려면 '저장'을 클릭하세요.",
    "alert_import_legacy": "가져오기 성공! 레거시 형식이 감지되어 프록시 목록이 복원되었습니다. 변경 사항을 적용하려면 '저장'을 클릭하세요.",
    "alert_invalid_format": "잘못된 구성 파일 형식입니다.",
    "alert_parse_error": "파일 구문 분석 실패: ",
    "alert_sync_enabled": "자동 동기화 활성화됨. 현재 구성을 Google 계정에 동기화하려면 '저장'을 클릭하세요.",
    "settings_tooltip": "설정",
    "authentication": "인증",
    "link_test": "테스트",
    "testing": "테스트 중...",
    "test_success": "연결됨",
    "test_failed": "실패",
    "test_all": "테스트",
    "proxy_name_placeholder": "예: 사무실 프록시",
    "username_placeholder": "사용자 이름",
    "password_placeholder": "비밀번호"
  },
  "pt": {
    "app_name": "Assistente de Proxy",
    "settings_title": "Configurações do Assistente de Proxy",
    "manage_proxies": "Gerenciar Proxies",
    "manage_proxies_desc": "Adicionar, editar ou excluir suas configurações de proxy",
    "expand_all": "Expandir Tudo",
    "collapse_all": "Recolher Tudo",
    "add_new": "Novo",
    "save": "Salvar",
    "system_config": "Configuração do Sistema",
    "language_settings": "Configurações de Idioma",
    "select_language": "Selecionar Idioma",
    "theme_settings": "Modo de Tema",
    "theme_settings_desc": "Escolha o modo Claro, Escuro ou Automático",
    "theme_light": "Claro",
    "theme_dark": "Escuro",
    "theme_auto": "Auto",
    "auto_mode_time": "Horário do Modo Escuro",
    "auto_mode_time_desc": "Definir horário de início e fim para o modo escuro",
    "start_time": "Hora de Início",
    "end_time": "Hora de Término",
    "sync_settings": "Configurações de Sincronização",
    "auto_sync_desc": "Sincronizar dados de proxy entre navegadores com a mesma conta (Google/FireFox) (Ativado por padrão)",
    "config_management": "Gerenciamento de Configuração",
    "config_desc": "Gerenciar configurações do sistema",
    "export_config": "Exportar Configuração",
    "import_config": "Importar Configuração",
    "delete_proxy_title": "Excluir Proxy",
    "delete_proxy_confirm": "Tem certeza de que deseja excluir este proxy?",
    "cancel": "Cancelar",
    "delete": "Excluir",
    "save_success": "Salvo com Sucesso",
    "save_failed": "Falha ao Salvar: ",
    "status_label": "Status:",
    "status_disconnected": "Desconectado",
    "status_disabled": "Desativado",
    "status_enabled": "Ativado",
    "mode_disabled": "Desativar",
    "mode_manual": "Manual",
    "mode_auto": "Auto",
    "mode_auto_text": "Modo Auto",
    "no_proxy_added": "Nenhum proxy adicionado",
    "add_proxy_btn": "Adicionar Novo Proxy",
    "unnamed_proxy": "Proxy Sem Nome",
    "drag_sort": "Arraste para ordenar",
    "proxy_name": "Nome do Proxy",
    "protocol": "Protocolo",
    "fallback_policy": "Política de Fallback (Modo Auto)",
    "fallback_reject": "Rejeitar",
    "fallback_direct": "Conexão Direta",
    "ip_address": "Endereço do Proxy",
    "port": "Porta",
    "username_optional": "Nome de usuário (Opcional)",
    "password_optional": "Senha (Opcional)",
    "proxy_urls_auto": "Endereços usando proxy (Modo Auto)",
    "proxy_urls_placeholder": "Um endereço por linha, ex:\ngoogle.com\n*.twitter.com",
    "bypass_urls": "Endereços ignorando proxy (Modo Manual)",
    "bypass_urls_placeholder": "Um endereço por linha, ex:\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "Por favor, defina um nome para o proxy.",
    "alert_name_duplicate": "O nome do proxy já existe, por favor use um nome diferente.",
    "alert_ip_invalid": "Por favor, insira um endereço de proxy válido (IP ou domínio).",
    "alert_port_invalid": "Por favor, insira um número de porta válido (1-65535).",
    "alert_ip_required": "O endereço do proxy não pode estar vazio.",
    "alert_ip_format": "O endereço IP deve conter quatro blocos separados por pontos.",
    "alert_ip_part_empty": "As partes do endereço IP não podem estar vazias.",
    "alert_ip_part_nan": "As partes do endereço IP devem ser números.",
    "alert_ip_leading_zero": "As partes do endereço IP não podem ter zeros à esquerda.", "alert_ip_part_range": "As partes do endereço IP devem estar entre 0 e 255.",
    "alert_import_success": "Importação bem-sucedida! Configurações do sistema e lista de proxies atualizadas. Por favor, clique em 'Salvar' para aplicar as alterações.",
    "alert_import_legacy": "Importação bem-sucedida! Formato legado detectado, lista de proxies restaurada. Por favor, clique em 'Salvar' para aplicar as alterações.",
    "alert_invalid_format": "Formato de arquivo de configuração inválido.",
    "alert_parse_error": "Falha ao analisar arquivo: ",
    "alert_sync_enabled": "Sincronização automática ativada. Clique em 'Salvar' para sincronizar a configuração atual com sua conta do Google.",
    "settings_tooltip": "Configurações",
    "authentication": "Auth",
    "link_test": "Teste",
    "testing": "Testando...",
    "test_success": "Conectado",
    "test_failed": "Falha",
    "test_all": "Teste",
    "proxy_name_placeholder": "ex., Proxy do Escritório",
    "username_placeholder": "Nome de usuário",
    "password_placeholder": "Senha"
  },
  "ru": {
    "app_name": "Прокси-ассистент",
    "settings_title": "Настройки Прокси-ассистента",
    "manage_proxies": "Управление прокси",
    "manage_proxies_desc": "Добавление, редактирование или удаление конфигураций прокси",
    "expand_all": "Развернуть все",
    "collapse_all": "Свернуть все",
    "add_new": "Новый",
    "save": "Сохранить",
    "system_config": "Конфигурация системы",
    "language_settings": "Настройки языка",
    "select_language": "Выбор языка",
    "theme_settings": "Тема",
    "theme_settings_desc": "Выберите Светлую, Темную или Автоматическую тему",
    "theme_light": "Светлая",
    "theme_dark": "Темная",
    "theme_auto": "Авто",
    "auto_mode_time": "Расписание темной темы",
    "auto_mode_time_desc": "Установите время начала и окончания темной темы",
    "start_time": "Время начала",
    "end_time": "Время окончания",
    "sync_settings": "Настройки синхронизации",
    "auto_sync_desc": "Синхронизировать данные прокси между браузерами с одним аккаунтом (Google/FireFox) (Включено по умолчанию)",
    "config_management": "Управление конфигурацией",
    "config_desc": "Управление системными конфигурациями",
    "export_config": "Экспорт конфигурации",
    "import_config": "Импорт конфигурации",
    "delete_proxy_title": "Удалить прокси",
    "delete_proxy_confirm": "Вы уверены, что хотите удалить этот прокси?",
    "cancel": "Отмена",
    "delete": "Удалить",
    "save_success": "Успешно сохранено",
    "save_failed": "Ошибка сохранения: ",
    "status_label": "Статус:",
    "status_disconnected": "Отключено",
    "status_disabled": "Отключено",
    "status_enabled": "Включено",
    "mode_disabled": "Отключить",
    "mode_manual": "Вручную",
    "mode_auto": "Авто",
    "mode_auto_text": "Авто режим",
    "no_proxy_added": "Прокси еще не добавлены",
    "add_proxy_btn": "Добавить новый прокси",
    "unnamed_proxy": "Прокси без имени",
    "drag_sort": "Перетащите для сортировки",
    "proxy_name": "Имя прокси",
    "protocol": "Протокол",
    "fallback_policy": "Политика отката (Авто режим)",
    "fallback_reject": "Отклонить",
    "fallback_direct": "Прямое соединение",
    "ip_address": "Адрес прокси",
    "port": "Порт",
    "username_optional": "Имя пользователя (Необязательно)",
    "password_optional": "Пароль (Необязательно)",
    "proxy_urls_auto": "Адреса, использующие прокси (Авто режим)",
    "proxy_urls_placeholder": "Один адрес в строке, например:\ngoogle.com\n*.twitter.com",
    "bypass_urls": "Адреса, игнорирующие прокси (Ручной режим)",
    "bypass_urls_placeholder": "Один адрес в строке, например:\nlocalhost\n127.0.0.1\ninternal.com",
    "alert_name_required": "Пожалуйста, укажите имя для прокси.",
    "alert_name_duplicate": "Имя прокси уже существует, пожалуйста, используйте другое имя.",
    "alert_ip_invalid": "Пожалуйста, введите действительный адрес прокси (IP или домен).",
    "alert_port_invalid": "Пожалуйста, введите действительный номер порта (1-65535).",
    "alert_ip_required": "Адрес прокси не может быть пустым.",
    "alert_ip_format": "IP-адрес должен содержать четыре блока, разделенных точками.",
    "alert_ip_part_empty": "Части IP-адреса не могут быть пустыми.",
    "alert_ip_part_nan": "Части IP-адреса должны быть числами.",
    "alert_ip_leading_zero": "Части IP-адреса не могут начинаться с нуля.",
    "alert_ip_part_range": "Части IP-адреса должны быть в диапазоне от 0 до 255.",
    "alert_import_success": "Импорт выполнен успешно! Системные настройки и список прокси обновлены. Пожалуйста, нажмите 'Сохранить', чтобы применить изменения.",
    "alert_import_legacy": "Импорт выполнен успешно! Обнаружен устаревший формат, список прокси восстановлен. Пожалуйста, нажмите 'Сохранить', чтобы применить изменения.",
    "alert_invalid_format": "Неверный формат файла конфигурации.",
    "alert_parse_error": "Не удалось разобрать файл: ",
    "alert_sync_enabled": "Автоматическая синхронизация включена. Нажмите 'Сохранить', чтобы синхронизировать текущую конфигурацию с вашим аккаунтом Google.",
    "settings_tooltip": "Настройки",
    "authentication": "Авт.",
    "link_test": "Тест",
    "testing": "Тестирование...",
    "test_success": "Подключено",
    "test_failed": "Ошибка",
    "test_all": "Тест",
    "proxy_name_placeholder": "например, Офисный прокси",
    "username_placeholder": "Имя пользователя",
    "password_placeholder": "Пароль"
  }
};

let currentLang = 'zh-CN'; // Default language

const I18n = {
  init: function (callback) {
    chrome.storage.local.get(['appLanguage'], function (result) {
      if (result.appLanguage) {
        currentLang = result.appLanguage;
      } else {
        currentLang = 'zh-CN';
        chrome.storage.local.set({ appLanguage: 'zh-CN' });
      }
      I18n.updatePage();
      if (callback) callback();
    });
  },

  setLanguage: function (lang) {
    if (translations[lang]) {
      currentLang = lang;
      chrome.storage.local.set({ appLanguage: lang });
      I18n.updatePage();
    }
  },

  t: function (key) {
    return translations[currentLang][key] || key;
  },

  updatePage: function () {
    $('[data-i18n]').each(function () {
      const key = $(this).data('i18n');
      const translation = I18n.t(key);
      if ($(this).is('input, textarea')) {
        // Do not overwrite dynamic values in inputs/textareas
      } else if ($(this).children().length === 0) {
        $(this).text(translation);
      } else {
        // Find and update ONLY the first direct text node child
        const nodes = $(this).contents();
        let found = false;
        for (let i = 0; i < nodes.length; i++) {
          if (nodes[i].nodeType === 3 && nodes[i].nodeValue.trim().length > 0) {
            nodes[i].nodeValue = translation;
            found = true;
            break;
          }
        }
        // If no non-empty text node found, but element is not empty, 
        // we might need to handle it differently, but for now we stay safe.
      }
    });

    $('[data-i18n-placeholder]').each(function () {
      const key = $(this).data('i18n-placeholder');
      $(this).attr('placeholder', I18n.t(key));
    });

    $('[data-i18n-title]').each(function () {
      const key = $(this).data('i18n-title');
      $(this).attr('title', I18n.t(key));
    });

    if ($('title[data-i18n]').length) {
      $('title[data-i18n]').text(I18n.t($('title[data-i18n]').data('i18n')));
    }
  },

  getCurrentLanguage: function () {
    return currentLang;
  }
};

window.I18n = I18n;
