<div align="center">

<img src="../src/images/logo-128.png" width="80" height="80" align="center">

# プロキシアシスタント

</div>

<div align="center">

[![Chrome拡張機能](https://img.shields.io/badge/Chrome-Extension-blue?logo=google-chrome)](https://chrome.google.com/webstore)
[![Manifest V3](https://img.shields.io/badge/Manifest-V3-green)](https://developer.chrome.com/docs/extensions/mv3/intro/)
[![多言語](https://img.shields.io/badge/多言語-yellow)](README-ja.md)

</div>

<div align="center">

[简体中文](../README.md) | [繁體中文](README-zh-TW.md) | [English](README-en.md) | [**日本語**](README-ja.md) | [Français](README-fr.md) | [Deutsch](README-de.md) | [Español](README-es.md) | [Português](README-pt.md) | [Русский](README-ru.md) | [한국어](README-ko.md)

</div>

<div align="center">

強力なChromeブラウザプロキシ管理拡張機能。ネットワークプロキシの構成と切り替えが簡単になります。
</div>

![](../public/img/promotion/1400-560-big.jpeg)

## ✨ 機能特徴

### 🔌 複数のプロキシプロトコル対応
- **HTTP** - 従来型HTTPプロキシ
- **HTTPS** - 安全なHTTPSプロキシ
- **SOCKS5** - TCP/UDP対応SOCKS5プロキシ
- **SOCKS4** - 旧SOCKS4プロキシ互換性

### 🔄 3つのプロキシモード

| モード | 説明 |
|--------|------|
| **無効** | プロキシを無効化し、システムデフォルトのネットワーク接続を使用 |
| **手動** | リストから手動でプロキシを選択 |
| **自動** | URLルールに基づいて自動的にプロキシを選択（PACモード） |

| ![](../public/img/demo-popup-01.png) | ![](../public/img/demo-popup-02.png) | ![](../public/img/demo-popup-03.png) |
|:---:|:---:|:---:|
| 無効モード | 手動モード | 自動モード |

### 📋 柔軟なURLルール設定

- **プロキシを使用しないアドレス** (`bypass_urls`): 直接接続するドメイン/IP
- **プロキシを使用するアドレス** (`include_urls`): プロキシ経由でアクセスするドメイン
- ワイルドカード `*` とドメインMatching対応
- 異なるウェブサイトに異なるプロキシを使用するシナリオに最適

### 🔐 プロキシ認証対応

- ユーザー名/パスワード認証対応
- プロキシサーバーからの認証リクエストを自動処理
- 資格情報の安全な保存

### 🧪 プロキシテスト機能

- **接続テスト**: プロキシの可用性を確認
- **遅延測定**: プロキシの応答時間をテスト
- **一括テスト**: ワンクリックで全プロキシをテスト
- **カラー表示**: 緑(<500ms) / オレンジ(≥500ms) / 赤(失敗)

### 🌙 テーマモード

- **ライトモード**: 白天使用（日中使用）
- **ダークモード**: 夜間使用
- **自動切り替え**: 時間に応じてテーマを自動切り替え

| ![ライトモード](../public/img/demo-light.png) | ![ダークモード](../public/img/demo-night.png) |
|:---:|:---:|
| ライトモード | ダークモード |

### ☁️ データ同期

- **Googleアカウント同期**: 複数のデバイス間でプロキシ構成を同期
- **ローカルストレージ**: ローカル保存のみ選択可能

### 🌍 多言語対応

この拡張機能は以下の5つの言語に対応：

| 言語 | コード | 対応状況 |
|------|--------|----------|
| 简体中文 | zh-CN | ✅ 対応済み |
| 繁體中文 | zh-TW | ✅ 対応済み |
| English | en | ✅ 対応済み |
| 日本語 | ja | ✅ 対応済み |
| Français | fr | ✅ 対応済み |

## 📷 設定画面

![](../public/img/demo.png)

## 📁 プロジェクト構成

```
ProxyAssistant/
├──                     # 多言語ドキュメント
│   ├── README-zh-CN.md       # 簡体字中国語
│   ├── README-zh-TW.md       # 繁体字中国語
│   ├── README-en.md          # 英語
│   └── ...
├── src/                       # ソースコード
│   ├── manifest.json         # Chrome拡張機能設定
│   ├── main.html             # 設定ページ
│   ├── popup.html            # ポップアップページ
│   ├── js/
│   │   ├── main.js           # 設定ページメインロジック
│   │   ├── popup.js          # ポップアップメインロジック
│   │   ├── service-worker.js # バックグラウンドサービス（プロキシコアロジック）
│   │   ├── i18n.js           # 国際化対応
│   │   └── jquery.js         # jQueryライブラリ
│   ├── css/
│   │   ├── main.css          # 設定ページスタイル
│   │   ├── popup.css         # ポップアップスタイル
│   │   ├── theme.css         # テーマスタイル
│   │   ├── switch.css        # スイッチコンポーネントスタイル
│   │   ├── delete-button.css # 削除ボタンスタイル
│   │   └── eye-button.css    # パスワード表示ボタンスタイル
│   └── images/               # 画像リソース
│       ├── icon-16.png
│       ├── icon-32.png
│       ├── icon-48.png
│       ├── icon-128.png
│       ├── logo-128.png
│       ├── demo.png
│       ├── demo-light.png
│       ├── demo-night.png
│       ├── demo-popup-01.png
│       ├── demo-popup-02.png
│       ├── demo-popup-03.png
│       └── promotion/
│           └── 1400-560-big.jpeg
└── public/                   # 公開リソース
    └── ...
```

## 🚀 クイックスタート

### 拡張機能のインストール

1. Chromeブラウザを開き、`chrome://extensions/`にアクセス
2. 右上の **「デベロッパーモード」** を有効化
3. **「パッケージ化されていない拡張機能を読み込む」** をクリック
4. プロジェクトの `ProxyAssistant/src` フォルダを選択

### プロキシの追加

1. 拡張機能アイコンをクリックしてポップアップを開く
2. **「設定」** ボタンをクリックして設定ページを開く
3. **「新規追加」** ボタンをクリックして新しいプロキシを追加
4. プロキシ情報を入力：
   - プロキシ名
   - プロトコルタイプ (HTTP/HTTPS/SOCKS5)
   - プロキシアドレス (IPまたはドメイン)
   - ポート番号
   - （オプション）ユーザー名とパスワード
5. **「保存」** ボタンをクリック

### プロキシの使用

**手動モード**:
1. ポップアップで **「手動」** モードを選択
2. リストから使用するプロキシを選択
3. 「接続済み」と表示されれば有効

**自動モード**:
1. ポップアップで **「自動」** モードを選択
2. 設定ページで各プロキシのURLルールを設定
3. ウェブサイトへのアクセス時に自動的にプロキシを選択

## 📖 詳細説明

### URLルール構文

以下のマッチングルールに対応：

```
# 完全一致
google.com

# サブドメイン一致
.google.com
www.google.com

# ワイルドカード一致
*.google.com
*.twitter.com

# IPアドレス
192.168.1.1
10.0.0.0/8
```

### PACスクリプト自動モード

自動モードはPAC（Proxy Auto-Config）スクリプトを使用：
- 現在のURLに基づいて自動的にプロキシを選択
- フォールバックポリシー対応（直接接続または拒否）
- ブラウザ起動時に最後の構成を自動復元

### クイック操作

| 操作 | 方法 |
|------|------|
| プロキシカードの展開/折叠 | カードヘッダーをクリック |
| 全カードの展開/折叠 | 「すべて展開」ボタンをクリック |
| プロキシのドラッグ並べ替え | カードヘッダーのドラッグハンドルをドラッグ |
| パスワードの表示/非表示 | パスワード欄右目のアイコンをクリック |
| 単一プロキシのテスト | 「テスト」ボタンをクリック |
| 全プロキシのテスト | 「すべてテスト」ボタンをクリック |

### 設定のインポート/エクスポート

1. **設定をエクスポート**: 「設定をエクスポート」をクリックしてJSONファイルをダウンロード
2. **設定をインポート**: 「設定を読み込む」をクリックしてJSONファイルを選択

設定に含まれるもの：
- 全プロキシ情報
- テーマ設定
- 同期設定

## 🔧 技術アーキテクチャ

### Manifest V3

- Chrome拡張機能Manifest V3仕様を使用
- Service Workerがバックグラウンドページを置き換え
- より安全で効率的なアーキテクチャ

### コアモジュール

1. **service-worker.js**:
   - プロキシ設定管理
   - PACスクリプト生成
   - 認証処理
   - プロキシテストロジック

2. **popup.js**:
   - ポップアップインターフェース操作
   - プロキシ状態表示
   - クイックプロキシ切り替え

3. **main.js**:
   - 設定ページロジック
   - プロキシ管理（追加/変更/削除）
   - ドラッグ&ドロップ並べ替え
   - インポート/エクスポート

4. **i18n.js**:
   - 多言語対応
   - リアルタイム言語切り替え

### データストレージ

- `chrome.storage.local`: ローカルストレージ
- `chrome.storage.sync`: クラウド同期ストレージ
- ストレージクォータ自動処理

## 📝 使用シナリオ

### シナリオ1: 複数プロキシ切り替え

- 異なるネットワーク環境に異なるプロキシを設定
- オフィスネットワークでは社内プロキシを使用
- 自宅ネットワークではVPNプロキシを使用
- ワンクリック快速切り替え

### シナリオ2: スマートルーティング

- 国内ウェブサイトは直接接続
- 特定のウェブサイトはプロキシ経由
- ドメインに基づいて自動選択

### シナリオ3: プロキシポールテスト

- 複数のプロキシをインポート
- バッチで遅延をテスト
- 最適なプロキシを選択

### シナリオ4: チーム共有

- 設定ファイルをエクスポート
- チームメンバーと共有
- 統一されたプロキシ設定

## ⚠️ 注意事項

1. **権限説明**: 拡張機能には以下の権限が必要です：
   - `proxy`: プロキシ設定管理
   - `storage`: 設定保存
   - `webRequest`: 認証リクエスト処理
   - `<all_urls>`: 全ウェブサイトURLへのアクセス

2. **他の拡張機能との競合**: プロキシの競合が発生した場合は、他のプロキシ類拡張機能を無効にしてください

3. **セキュリティ**: 資格情報はブラウザのローカルに保存されます。デバイスの安全を確保してください

4. **ネットワーク要件**: プロキシサーバーに正常にアクセスできることを確認してください

## 📄 ライセンス

MIT License - 詳細は [LICENSE](../LICENSE) ファイルを参照

## 🤝 コントリビューション

IssueおよびPull Requestをお待ちしています！

## 📧 連絡先

ご質問やご提案がある場合は、GitHub Issuesを通じてフィードバックしてください。
